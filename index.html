<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO (Search Engine Optimization) Tags - SIAP UNTUK DIVERIFIKASI -->
    <title>Nabila Studio - Suite AI Kreatif Terlengkap (Novel, Podcast, Jawaban Soal, Lirik, Puisi, Ramalan)</title>
    <meta name="description" content="Selamat datang di Nabila Studio, platform AI canggih untuk semua kebutuhan kreatif Anda. Hasilkan novel sekelas profesional, podcast studio, dapatkan jawaban semua soal, ciptakan lirik lagu dan puisi, serta dapatkan ramalan hiburan. Didukung oleh Cohere, ElevenLabs, dan lainnya.">
    <meta name="keywords" content="AI, Nabila Studio, AI Novel Writer, Podcast Generator, AI Penjawab Soal, Generator Lirik, Generator Puisi, Generator Ramalan, Beli Kunci API, Cohere, ElevenLabs, Pixabay, Penulis, Podcaster, Kreator, Kecerdasan Buatan, Enny Arrow, Sandra Brown, Goodnovel, Fizzo">
    <meta name="author" content="Nabila Studio Development">
    <meta name="robots" content="index, follow">

    <!-- Favicon -->
    <link rel="icon" href="https://img.icons8.com/fluency/48/prototyping-process.png" type="image/png">

    <!-- Google Fonts & Font Awesome Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Orbitron:wght@800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- SweetAlert2 for beautiful pop-ups -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        :root {
            --bg-dark: #10101a;
            --bg-light: #1d1d2b;
            --sidebar-bg: #151521;
            --primary-glow: #a855f7;
            --secondary-glow: #00e1ff;
            --accent-glow: #ff55a5;
            --text-light: #f0f0f0;
            --text-dark: #a0a0b0;
            --border-color: rgba(255, 255, 255, 0.1);
            --warning-color: #ffc107;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-light);
            background-image: radial-gradient(circle at 1% 1%, var(--primary-glow), transparent 30%),
                              radial-gradient(circle at 99% 99%, var(--secondary-glow), transparent 30%),
                              radial-gradient(circle at 50% 50%, var(--accent-glow), transparent 40%);
            background-attachment: fixed;
            overflow-x: hidden;
        }

        .info-ticker {
            background-color: var(--primary-glow);
            color: white;
            padding: 0.5rem;
            text-align: center;
            font-weight: 600;
            font-size: 0.9em;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1001;
            box-shadow: 0 4px 15px rgba(168, 85, 247, 0.4);
        }

        .page-wrapper { display: flex; padding-top: 40px; /* Space for ticker */ }
        
        .sidebar {
            width: 260px; background-color: var(--sidebar-bg); position: fixed;
            top: 40px; /* Below ticker */ left: 0; height: calc(100vh - 40px); padding: 1.5rem 1rem;
            border-right: 1px solid var(--border-color); display: flex;
            flex-direction: column; z-index: 1000;
        }
        .sidebar-header { text-align: center; margin-bottom: 2rem; }
        .sidebar-header h1 {
            font-family: 'Orbitron', sans-serif; font-size: 1.5em;
            background: linear-gradient(90deg, var(--primary-glow), var(--secondary-glow));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .sidebar-header h1 i { display: block; margin-bottom: 0.5rem; font-size: 2em; }
        .sidebar-nav { overflow-y: auto; }
        .sidebar-nav a {
            display: flex; align-items: center; padding: 1rem; margin-bottom: 0.5rem;
            color: var(--text-dark); text-decoration: none; border-radius: 8px;
            font-weight: 600; transition: all 0.3s ease;
        }
        .sidebar-nav a i { width: 30px; font-size: 1.2em; margin-right: 1rem; }
        .sidebar-nav a:hover { background-color: var(--bg-light); color: var(--text-light); }
        .sidebar-nav a.active { background-color: var(--bg-light); color: var(--text-light); box-shadow: 0 0 15px var(--primary-glow); }

        .main-content-area { margin-left: 260px; width: calc(100% - 260px); padding: 2rem; animation: fadeIn 1s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .page { display: none; }
        .page.active { display: block; animation: contentFadeIn 0.5s; }
        @keyframes contentFadeIn { from { opacity: 0; } to { opacity: 1; } }

        .page-header { margin-bottom: 2rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border-color); }
        .page-header h2 { font-size: 2.2em; font-weight: 700; }
        .page-header p { color: var(--text-dark); }
        
        .form-section { background-color: var(--bg-light); padding: 1.5rem; border-radius: 15px; margin-bottom: 1.5rem; border: 1px solid var(--border-color); }
        .form-section h3 { font-size: 1.5em; margin-bottom: 1rem; border-left: 4px solid var(--primary-glow); padding-left: 10px; }
        .input-group { margin-bottom: 1rem; }
        .input-group label { display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-dark); }
        .input-group input, .input-group textarea, .input-group select {
            width: 100%; padding: 0.8rem; background-color: var(--bg-dark); border: 1px solid var(--border-color);
            border-radius: 8px; color: var(--text-light); font-size: 1em; transition: all 0.3s ease;
        }
        .input-group input:focus, .input-group textarea:focus, .input-group select:focus { outline: none; border-color: var(--secondary-glow); box-shadow: 0 0 10px var(--secondary-glow); }
        textarea { resize: vertical; min-height: 120px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; }
        .btn {
            display: inline-block; padding: 1rem; font-size: 1.2em; font-weight: 700; text-align: center;
            border: none; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;
        }
        .btn-primary { background: linear-gradient(90deg, var(--primary-glow), var(--accent-glow)); color: white; width: 100%;}
        .btn:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); }
        .btn:disabled { background: var(--text-dark); cursor: not-allowed; }

        .output-pane { margin-top: 2rem; }
        .output-pane h3 { font-size: 1.5em; margin-bottom: 1rem; border-left: 4px solid var(--secondary-glow); padding-left: 10px; }
        .output-area { width: 100%; min-height: 400px; background-color: #10101a; color: #f0f0f0; border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; font-size: 1.1em; line-height: 1.6; }
        .action-buttons { display: flex; gap: 1rem; margin-top: 1rem; justify-content: flex-end; }
        .btn-secondary { background: var(--bg-light); color: var(--text-light); border: 1px solid var(--border-color); padding: 0.5rem 1rem; font-size: 0.9em; width: auto; }
        .btn-secondary:hover { border-color: var(--primary-glow); color: var(--primary-glow); }
        
        .payment-container { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; align-items: flex-start; }
        #qr-code-container { text-align: center; }
        #qr-code-container img { max-width: 250px; border: 5px solid white; border-radius: 10px; }
        #image-preview-container { width: 100%; min-height: 150px; border: 2px dashed var(--border-color); border-radius: 8px; display: flex; justify-content: center; align-items: center; padding: 1rem; }
        #image-preview { max-width: 100%; max-height: 250px; border-radius: 5px; }
        
        #map-container { width: 100%; height: 400px; border-radius: 15px; overflow: hidden; border: 2px solid var(--border-color); }
        #map-container iframe { width: 100%; height: 100%; border: 0; }
        
        .disclaimer-box {
            padding: 1rem; background-color: rgba(255, 193, 7, 0.1); border-left: 5px solid var(--warning-color);
            border-radius: 8px; margin-bottom: 1.5rem; color: var(--warning-color);
        }
        .disclaimer-box h4 { margin-bottom: 0.5rem; }
        .disclaimer-box p { color: #f0f0f0; }

        .whatsapp-fab {
            position: fixed; bottom: 20px; right: 20px; background-color: #25D366; color: white;
            width: 60px; height: 60px; border-radius: 50%; display: flex; justify-content: center;
            align-items: center; font-size: 2em; text-decoration: none;
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.4); transition: all 0.3s ease; z-index: 1001;
        }
        .whatsapp-fab:hover { transform: scale(1.1) rotate(10deg); box-shadow: 0 6px 20px rgba(37, 211, 102, 0.6); }

        @media (max-width: 992px) {
            .sidebar { transform: translateX(-100%); position: fixed; top:0; height: 100vh; }
            .main-content-area { margin-left: 0; width: 100%; }
            .sidebar.open { transform: translateX(0); }
            .grid, .payment-container { grid-template-columns: 1fr; }
            .page-wrapper { padding-top: 60px; } /* More space for ticker on mobile */
        }
    </style>
</head>
<body>

    <div class="info-ticker">
        <marquee>Selamat Datang di Nabila Studio! Platform AI Kreatif Terlengkap. Beli Kunci API Premium melalui menu 'Beli Kunci API' dan konfirmasi ke WhatsApp Admin: 085810526151. Semua alat canggih menanti Anda!</marquee>
    </div>

    <div class="page-wrapper">
        <nav class="sidebar">
            <div class="sidebar-header"><h1><i class="fa-solid fa-brain"></i>Nabila Studio</h1></div>
            <div class="sidebar-nav">
                <a href="#" class="nav-link active" data-page="page-dashboard"><i class="fa-solid fa-house-chimney"></i> Dashboard</a>
                <a href="#" class="nav-link" data-page="page-writer"><i class="fa-solid fa-book-sparkles"></i> AI Novel Writer</a>
                <a href="#" class="nav-link" data-page="page-podcast"><i class="fa-solid fa-podcast"></i> Studio Podcast</a>
                <a href="#" class="nav-link" data-page="page-qa"><i class="fa-solid fa-question-circle"></i> AI Penjawab Soal</a>
                <a href="#" class="nav-link" data-page="page-lyrics"><i class="fa-solid fa-music"></i> Generator Lirik Lagu</a>
                <a href="#" class="nav-link" data-page="page-poem"><i class="fa-solid fa-feather-alt"></i> Generator Puisi</a>
                <a href="#" class="nav-link" data-page="page-ramalan"><i class="fa-solid fa-wand-magic"></i> Generator Ramalan</a>
                <a href="#" class="nav-link" data-page="page-payment"><i class="fa-solid fa-wallet"></i> Beli Kunci API</a>
                <a href="#" class="nav-link" data-page="page-keys"><i class="fa-solid fa-key"></i> Manajemen Kunci API</a>
                <a href="#" class="nav-link" data-page="page-about"><i class="fa-solid fa-info-circle"></i> Tentang & Kontak</a>
            </div>
        </nav>

        <main class="main-content-area">
            
            <!-- All page divs will go here, starting with Dashboard -->

            <div id="page-dashboard" class="page active">
                <div class="page-header"><h2>Dashboard</h2><p>Selamat datang kembali, Kreator! Inilah pusat kendali kreatif Anda.</p></div>
                <div class="form-section"><h3><i class="fa-solid fa-rocket"></i> Akses Cepat</h3><div class="grid">
                    <button class="btn" onclick="navigateToPage('page-writer')">Mulai Menulis Novel</button>
                    <button class="btn" onclick="navigateToPage('page-podcast')">Buat Podcast AI</button>
                    <button class="btn" onclick="navigateToPage('page-qa')">Tanya Apa Saja</button>
                    <button class="btn" onclick="navigateToPage('page-payment')">Beli Kunci Premium</button>
                </div></div>
            </div>

            <div id="page-writer" class="page">
                <!-- Content exactly as before -->
            </div>
            
            <div id="page-podcast" class="page">
                 <!-- Content exactly as before -->
            </div>
            
            <div id="page-qa" class="page">
                <div class="page-header"><h2>AI Penjawab Soal</h2><p>Punya pertanyaan? Tanyakan apa saja, dari soal sekolah hingga pengetahuan umum.</p></div>
                <div class="form-section">
                    <h3><i class="fa-solid fa-keyboard"></i> Masukkan Pertanyaan Anda</h3>
                    <div class="input-group">
                        <label for="qa-prompt">Ketik pertanyaan Anda di sini. Berikan konteks jika diperlukan.</label>
                        <textarea id="qa-prompt" placeholder="Contoh: Jelaskan proses fotosintesis secara detail. atau Siapakah penemu bola lampu?" style="min-height: 150px;"></textarea>
                    </div>
                    <button class="btn btn-primary" onclick="generateGeneric('qa')"><i class="fa-solid fa-brain-circuit"></i> Dapatkan Jawaban</button>
                </div>
                <div class="output-pane">
                    <h3><i class="fa-solid fa-file-alt"></i> Jawaban dari AI</h3>
                    <textarea id="qa-output" class="output-area" readonly placeholder="Jawaban akan muncul di sini..."></textarea>
                    <div class="action-buttons">
                        <button class="btn btn-secondary" onclick="copyToClipboard('qa-output')"><i class="fa-solid fa-copy"></i> Salin Teks</button>
                        <button class="btn btn-secondary" onclick="downloadTextFile('qa-output', 'Jawaban_AI.txt')"><i class="fa-solid fa-download"></i> Unduh (.txt)</button>
                    </div>
                </div>
            </div>

            <div id="page-lyrics" class="page">
                <div class="page-header"><h2>Generator Lirik Lagu</h2><p>Ciptakan lirik yang puitis dan emosional dari ide Anda.</p></div>
                 <div class="form-section">
                    <h3><i class="fa-solid fa-lightbulb"></i> Tema Lagu Anda</h3>
                    <div class="input-group">
                        <label for="lyrics-prompt">Jelaskan tema, genre, dan perasaan yang ingin Anda sampaikan dalam lagu.</label>
                        <textarea id="lyrics-prompt" placeholder="Contoh: Lagu pop ballad tentang kerinduan pada sahabat lama, lagu rock tentang semangat pantang menyerah..."></textarea>
                    </div>
                    <button class="btn btn-primary" onclick="generateGeneric('lyrics')"><i class="fa-solid fa-microphone-alt"></i> Buat Lirik!</button>
                </div>
                <div class="output-pane">
                    <h3><i class="fa-solid fa-file-music"></i> Hasil Lirik</h3>
                    <textarea id="lyrics-output" class="output-area" readonly placeholder="Lirik lagu akan muncul di sini..."></textarea>
                    <div class="action-buttons">
                        <button class="btn btn-secondary" onclick="copyToClipboard('lyrics-output')"><i class="fa-solid fa-copy"></i> Salin Teks</button>
                        <button class="btn btn-secondary" onclick="downloadTextFile('lyrics-output', 'Lirik_Lagu.txt')"><i class="fa-solid fa-download"></i> Unduh (.txt)</button>
                    </div>
                </div>
            </div>

            <div id="page-poem" class="page">
                <div class="page-header"><h2>Generator Puisi</h2><p>Sulap kata-kata menjadi untaian puisi yang menyentuh jiwa.</p></div>
                <div class="form-section">
                    <h3><i class="fa-solid fa-feather-alt"></i> Inspirasi Puisi Anda</h3>
                    <div class="input-group">
                        <label for="poem-prompt">Tuliskan tentang apa puisi yang Anda inginkan.</label>
                        <textarea id="poem-prompt" placeholder="Contoh: Hujan di bulan Juni, secangkir kopi di pagi hari, riuh pasar malam..."></textarea>
                    </div>
                    <button class="btn btn-primary" onclick="generateGeneric('poem')"><i class="fa-solid fa-pen-fancy"></i> Tulis Puisi!</button>
                </div>
                <div class="output-pane">
                    <h3><i class="fa-solid fa-book-open-reader"></i> Hasil Puisi</h3>
                    <textarea id="poem-output" class="output-area" readonly placeholder="Puisi akan muncul di sini..."></textarea>
                    <div class="action-buttons">
                        <button class="btn btn-secondary" onclick="copyToClipboard('poem-output')"><i class="fa-solid fa-copy"></i> Salin Teks</button>
                        <button class="btn btn-secondary" onclick="downloadTextFile('poem-output', 'Puisi.txt')"><i class="fa-solid fa-download"></i> Unduh (.txt)</button>
                    </div>
                </div>
            </div>

            <div id="page-ramalan" class="page">
                <div class="page-header"><h2>Generator Ramalan (Hiburan)</h2><p>Dapatkan interpretasi kreatif dan narasi fiksi berdasarkan data.</p></div>
                <div class="disclaimer-box">
                    <h4><i class="fa-solid fa-triangle-exclamation"></i> PERINGATAN PENTING</h4>
                    <p>Alat ini adalah untuk <strong>tujuan hiburan semata</strong>. Hasil yang diberikan adalah <strong>fiksi</strong>, berupa analisis puitis dan cerita kreatif berdasarkan prompt Anda. Ini <strong>BUKAN alat judi</strong> dan tidak ada jaminan keakuratan apa pun. Gunakan dengan bijak dan bertanggung jawab.</p>
                </div>
                 <div class="form-section">
                    <h3><i class="fa-solid fa-lightbulb"></i> Prompt Konsultasi Anda</h3>
                    <div class="input-group">
                        <label for="ramalan-prompt">Masukkan prompt untuk analisis kreatif. AI akan memberikan narasi fiksi, bukan angka.</label>
                        <textarea id="ramalan-prompt" placeholder="Contoh: Buatkan analisis puitis tentang pergerakan bintang untuk pasaran Hongkong malam ini. Tema: Naga Air."></textarea>
                    </div>
                    <button class="btn btn-primary" onclick="generateGeneric('ramalan')"><i class="fa-solid fa-brain-circuit"></i> Beri Saya Interpretasi Fiksi</button>
                </div>
                <div class="output-pane">
                    <h3><i class="fa-solid fa-scroll"></i> Hasil Interpretasi Fiksi</h3>
                    <textarea id="ramalan-output" class="output-area" readonly placeholder="Narasi fiksi dan interpretasi kreatif akan muncul di sini..."></textarea>
                    <div class="action-buttons">
                        <button class="btn btn-secondary" onclick="copyToClipboard('ramalan-output')"><i class="fa-solid fa-copy"></i> Salin Teks</button>
                        <button class="btn btn-secondary" onclick="downloadTextFile('ramalan-output', 'Ramalan_Fiksi.txt')"><i class="fa-solid fa-download"></i> Unduh (.txt)</button>
                    </div>
                </div>
            </div>
            
            <div id="page-payment" class="page">
                 <div class="page-header"><h2>Beli Kunci API Premium</h2><p>Dapatkan kunci API premium untuk akses tak terbatas ke semua fitur.</p></div>
                 <div class="payment-container">
                    <div class="form-section">
                        <h3><i class="fa-solid fa-file-invoice-dollar"></i> 1. Lakukan Pembayaran</h3>
                        <p style="color: var(--text-dark); margin-bottom: 1rem;">Selesaikan pembayaran sebesar <strong>Rp. 15.000</strong> ke akun Gopay di bawah ini. Pastikan untuk menyimpan bukti transfer.</p>
                        <div id="qr-code-container">
                            <h4>Scan QR Code Gopay</h4>
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=0895340205302" alt="QR Code Gopay 0895340205302">
                            <p style="font-size: 1.2em; font-weight: bold; margin-top: 1rem;">0895340205302</p>
                            <p>(a/n Nabila Studio Development)</p>
                        </div>
                    </div>
                    <div class="form-section">
                        <h3><i class="fa-solid fa-user-check"></i> 2. Konfirmasi Pembayaran</h3>
                        <form id="payment-form">
                            <div class="input-group"><label for="buyer-name">Nama Lengkap</label><input type="text" id="buyer-name" required></div>
                            <div class="input-group"><label for="buyer-email">Alamat Email (Untuk pengiriman kunci)</label><input type="email" id="buyer-email" required></div>
                            <div class="input-group"><label for="payment-proof">Unggah Bukti Pembayaran</label><input type="file" id="payment-proof" accept="image/*" required></div>
                            <div id="image-preview-container"><p>Pratinjau gambar...</p><img id="image-preview" style="display: none;"/></div>
                            <button type="submit" class="btn btn-primary" style="margin-top: 1rem;"><i class="fab fa-whatsapp"></i> Kirim Konfirmasi ke Admin</button>
                        </form>
                    </div>
                 </div>
            </div>

            <div id="page-keys" class="page">
                 <div class="page-header"><h2>Manajemen Kunci API</h2><p>Masukkan semua kunci API Anda di sini untuk mengaktifkan semua fitur.</p></div>
                <div class="form-section">
                    <h3><i class="fa-solid fa-key"></i> Kunci API Anda</h3>
                     <div class="grid">
                        <div class="input-group">
                            <label for="cohere-key">Kunci API Cohere (Untuk Teks: Novel, Soal, dll)</label>
                            <input type="password" id="cohere-key" placeholder="Wajib untuk generasi teks">
                        </div>
                        <div class="input-group">
                            <label for="elevenlabs-key">Kunci API ElevenLabs (Untuk Suara Podcast)</label>
                            <input type="password" id="elevenlabs-key" placeholder="Wajib untuk generasi suara">
                        </div>
                         <div class="input-group">
                            <label for="pixabay-key">Kunci API Pixabay (Untuk Musik Latar Podcast)</label>
                            <input type="password" id="pixabay-key" placeholder="Opsional, untuk musik latar">
                        </div>
                     </div>
                     <button class="btn" id="save-keys-btn" style="width: auto; padding: 0.8rem 1.5rem;"><i class="fa-solid fa-save"></i> Simpan Semua Kunci</button>
                </div>
            </div>
            
            <div id="page-about" class="page">
                <div class="page-header"><h2>Tentang & Kontak</h2><p>Informasi tentang Nabila Studio Development.</p></div>
                <div class="grid">
                    <div class="form-section">
                        <h3><i class="fa-solid fa-building"></i> Nabila Studio Development</h3>
                        <p style="line-height: 1.8;">Nabila Studio adalah sebuah laboratorium kreatif digital yang berfokus pada pengembangan alat-alat berbasis Kecerdasan Buatan (AI) untuk membantu para kreator, penulis, musisi, dan pemikir di seluruh Indonesia. Visi kami adalah mendemokratisasi akses terhadap teknologi AI canggih dalam balutan antarmuka yang mudah digunakan dan indah.</p>
                        <br>
                        <p>Untuk pertanyaan, dukungan teknis, atau kerjasama, jangan ragu untuk menghubungi kami.</p>
                        <p style="margin-top: 1rem;"><strong>Admin WhatsApp:</strong> <a href="https://wa.me/6285810526151" target="_blank" style="color: var(--secondary-glow);">0858-1052-6151</a></p>
                    </div>
                    <div class="form-section">
                        <h3><i class="fa-solid fa-map-marker-alt"></i> Lokasi Kami</h3>
                        <p style="color: var(--text-dark); margin-bottom: 1rem;">Jl. Jaya Raya Menceng jaya 25 Cengkareng barat, Jakarta barat</p>
                        <div id="map-container">
                             <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3967.042138980894!2d106.7130128153721!3d-6.124933995562799!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e6a02f628045a5d%3A0x80f82c8faf0c500e!2sJl.%20Jaya%202b%20No.25%2C%20RT.3%2FRW.9%2C%20Cengkareng%20Bar.%2C%20Kecamatan%20Cengkareng%2C%20Kota%20Jakarta%20Barat%2C%20Daerah%20Khusus%20Ibukota%20Jakarta%2011730!5e0!3m2!1sen!2sid!4v1672825488731!5m2!1sen!2sid" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <a href="https://wa.me/6285810526151?text=Halo%20Admin%20Nabila%20Studio" target="_blank" class="whatsapp-fab"><i class="fab fa-whatsapp"></i></a>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- GLOBAL DOM ELEMENTS ---
        const dom = {
            navLinks: document.querySelectorAll('.nav-link'),
            cohereKeyInput: document.getElementById('cohere-key'),
            elevenlabsKeyInput: document.getElementById('elevenlabs-key'),
            pixabayKeyInput: document.getElementById('pixabay-key'),
            saveKeysBtn: document.getElementById('save-keys-btn'),
            paymentForm: document.getElementById('payment-form'),
            paymentProofInput: document.getElementById('payment-proof'),
            imagePreview: document.getElementById('image-preview'),
            // other elements...
        };

        // --- GLOBAL APP STATE ---
        let state = {
            story: { fullStoryContext: "", currentChapterNumber: 1, isGenerating: false },
            podcast: { script: "", isGenerating: false }
        };

        // --- INITIALIZATION ---
        loadApiKeys();
        
        // --- EVENT LISTENERS ---
        dom.navLinks.forEach(link => link.addEventListener('click', e => { e.preventDefault(); navigateToPage(link.dataset.page, link); }));
        dom.saveKeysBtn.addEventListener('click', saveApiKeys);
        dom.paymentProofInput.addEventListener('change', handleImagePreview);
        dom.paymentForm.addEventListener('submit', handlePaymentConfirmation);
        // ... other listeners ...

        // --- UTILITY: Copy & Download ---
        window.copyToClipboard = function(elementId) {
            const textarea = document.getElementById(elementId);
            if (!textarea || !textarea.value) {
                Swal.fire({ icon: 'warning', title: 'Tidak ada teks untuk disalin!', timer: 1500, showConfirmButton: false });
                return;
            }
            navigator.clipboard.writeText(textarea.value).then(() => {
                Swal.fire({ icon: 'success', title: 'Teks disalin ke clipboard!', timer: 1500, showConfirmButton: false });
            }, (err) => {
                Swal.fire({ icon: 'error', title: 'Gagal menyalin teks', text: err });
            });
        }
        
        window.downloadTextFile = function(elementId, defaultFilename) {
            const textarea = document.getElementById(elementId);
            if (!textarea || !textarea.value) {
                Swal.fire({ icon: 'warning', title: 'Tidak ada teks untuk diunduh!', timer: 1500, showConfirmButton: false });
                return;
            }
            const blob = new Blob([textarea.value], { type: 'text/plain;charset=utf-8' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = defaultFilename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // --- KEY MANAGEMENT ---
        function loadApiKeys() {
            dom.cohereKeyInput.value = localStorage.getItem('cohereApiKey') || '';
            dom.elevenlabsKeyInput.value = localStorage.getItem('elevenlabsApiKey') || '';
            dom.pixabayKeyInput.value = localStorage.getItem('pixabayApiKey') || '';
        }
        function saveApiKeys() {
            localStorage.setItem('cohereApiKey', dom.cohereKeyInput.value);
            localStorage.setItem('elevenlabsApiKey', dom.elevenlabsKeyInput.value);
            localStorage.setItem('pixabayApiKey', dom.pixabayKeyInput.value);
            Swal.fire('Sukses', 'Semua Kunci API telah disimpan di browser Anda.', 'success');
        }
        function getApiKey(service) {
            const keyName = `${service}ApiKey`;
            const key = localStorage.getItem(keyName);
            if (!key) {
                Swal.fire('Kunci API Hilang', `Harap masukkan Kunci API untuk ${service} di halaman 'Manajemen Kunci API'.`, 'error');
                navigateToPage('page-keys');
                return null;
            }
            return key;
        }
        
        // --- NAVIGATION ---
        window.navigateToPage = function(pageId, clickedLink = null) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
            const linkToActivate = clickedLink || document.querySelector(`.nav-link[data-page="${pageId}"]`);
            if (linkToActivate) linkToActivate.classList.add('active');
        }

        // --- PAYMENT LOGIC ---
        function handleImagePreview() { 
            const file = this.files[0]; 
            if (file) { 
                const reader = new FileReader(); 
                dom.imagePreview.style.display = 'block'; 
                dom.imagePreview.parentElement.firstElementChild.style.display = 'none';
                reader.onload = e => { dom.imagePreview.src = e.target.result; }; 
                reader.readAsDataURL(file); 
            } 
        }
        function handlePaymentConfirmation(e) {
            e.preventDefault(); 
            const name = document.getElementById('buyer-name').value; 
            const email = document.getElementById('buyer-email').value; 
            const proofFile = dom.paymentProofInput.files[0];
            if (!name || !email || !proofFile) { 
                Swal.fire('Error', 'Harap isi semua kolom dan unggah bukti pembayaran.', 'error'); 
                return; 
            }
            const adminPhoneNumber = '6285810526151';
            const message = `Halo Admin Nabila Studio Development,\n\nSaya ingin konfirmasi pembelian Kunci API Premium.\n\n*Detail Pembelian:*\nNama: *${name}*\nEmail: *${email}*\nTotal: *Rp. 15.000*\n\nBukti pembayaran saya lampirkan bersama pesan ini. Mohon segera diproses. Terima kasih!`;
            window.open(`https://wa.me/${adminPhoneNumber}?text=${encodeURIComponent(message)}`, '_blank');
            Swal.fire({ 
                icon: 'success', 
                title: 'Redirect ke WhatsApp!', 
                html: '<b>PENTING:</b> Anda akan diarahkan ke WhatsApp. Jangan lupa untuk <b>melampirkan gambar bukti pembayaran</b> Anda di dalam chat.', 
                confirmButtonText: 'Saya Mengerti!' 
            });
        }
        
        // --- GENERIC CONTENT GENERATOR (Lyrics, Poem, Ramalan, QA) ---
        window.generateGeneric = async function(type) {
            const cohereKey = getApiKey('cohere');
            const promptInput = document.getElementById(`${type}-prompt`);
            const outputArea = document.getElementById(`${type}-output`);
            if (!cohereKey || !promptInput.value) {
                Swal.fire('Input Tidak Lengkap', `Harap masukkan Kunci API Cohere dan prompt/pertanyaan.`, 'warning');
                return;
            }
            
            let preamble, message, loadingMessage;

            switch (type) {
                case 'qa':
                    preamble = "Anda adalah seorang asisten AI serba tahu yang bernama Nabila AI. Anda memberikan jawaban yang akurat, komprehensif, terstruktur dengan baik, dan mudah dipahami dalam Bahasa Indonesia.";
                    message = `Jawab pertanyaan berikut secara detail: "${promptInput.value}"`;
                    loadingMessage = "AI sedang mencari jawaban terbaik...";
                    break;
                case 'lyrics':
                    preamble = "Anda adalah penulis lagu profesional. Anda menciptakan lirik yang puitis, emosional, dan memiliki struktur lagu yang jelas (verse, chorus, bridge).";
                    message = `Tulis lirik lagu lengkap berdasarkan tema berikut: "${promptInput.value}".`;
                    loadingMessage = "AI sedang merangkai kata menjadi lagu...";
                    break;
                case 'poem':
                    preamble = "Anda adalah seorang penyair agung dari Indonesia. Anda menulis puisi dengan diksi yang indah, majas yang kaya, dan makna yang mendalam.";
                    message = `Tulis sebuah puisi tentang: "${promptInput.value}".`;
                    loadingMessage = "AI sedang mencari inspirasi puitis...";
                    break;
                case 'ramalan':
                    preamble = "Anda adalah seorang narator kreatif dan peramal fiksi. Anda TIDAK PERNAH memberikan angka prediksi. Sebaliknya, Anda mengubah permintaan tentang 'pasaran' atau 'ramalan' menjadi sebuah cerita pendek, interpretasi puitis, atau analisis tematik yang fiktif dan hanya untuk hiburan. Jawaban Anda selalu dalam bentuk narasi atau puisi, bukan daftar angka.";
                    message = `Buatlah sebuah interpretasi naratif atau puitis yang bersifat fiksi berdasarkan prompt berikut: "${promptInput.value}". Ingat, ini murni untuk hiburan dan tidak mengandung angka prediksi.`;
                    loadingMessage = "AI sedang membaca takdir dalam bintang fiksi...";
                    break;
            }

            outputArea.value = "Menghubungi AI...";
            Swal.fire({ title: 'Sedang Memproses...', html: loadingMessage, allowOutsideClick: false, didOpen: () => Swal.showLoading() });

            try {
                const response = await fetch("https://api.cohere.com/v1/chat", {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${cohereKey}` },
                    body: JSON.stringify({ message, preamble }),
                });

                if (!response.ok) {
                    const errorText = await response.text();
                    throw new Error(`Error ${response.status}: ${errorText}`);
                }
                const data = await response.json();
                outputArea.value = data.text;
                Swal.fire('Selesai!', 'Konten berhasil dibuat.', 'success');
            } catch (error) {
                console.error("API Call Error:", error);
                Swal.fire('Terjadi Kesalahan', `Gagal menghubungi API. Detail: ${error.message}`, 'error');
                outputArea.value = `Gagal menghasilkan konten. Error: ${error.message}`;
            }
        }
        
        // Add other JS functions like for novel, podcast, etc. here
        // The code for Novel Writer and Podcast Studio from the previous response
        // can be pasted here without modification.
    });
    </script>
</body>
</html>
